"use strict";function help(e){var i=0===e?console.log:console.error;i("usage: "+path.basename(process.argv[1])+" [--ecma3|--ecma5|--ecma6|--ecma7|--ecma8|--ecma9|...|--ecma2015|--ecma2016|--ecma2017|--ecma2018|...]"),i("        [--tokenize] [--locations] [---allow-hash-bang] [--compact] [--silent] [--module] [--help] [--] [infile]"),process.exit(e)}function run(e){var i;try{if(tokenize){i=[];var o,a=acorn.tokenizer(e,options);do{o=a.getToken(),i.push(o)}while(o.type!==acorn.tokTypes.eof)}else i=acorn.parse(e,options)}catch(e){console.error(infile&&"-"!==infile?e.message.replace(/\(\d+:\d+\)$/,function(e){return e.slice(0,1)+infile+" "+e.slice(1)}):e.message),process.exit(1)}silent||console.log(JSON.stringify(i,null,compact?null:2))}for(var infile,forceFile,path=require("path"),fs=require("fs"),acorn=require("./acorn.js"),silent=!1,compact=!1,tokenize=!1,options={},i=2;i<process.argv.length;++i){var arg=process.argv[i];if("-"!==arg&&"-"===arg[0]||infile)if("--"!==arg||infile||i+2!==process.argv.length)if("--locations"===arg)options.locations=!0;else if("--allow-hash-bang"===arg)options.allowHashBang=!0;else if("--silent"===arg)silent=!0;else if("--compact"===arg)compact=!0;else if("--help"===arg)help(0);else if("--tokenize"===arg)tokenize=!0;else if("--module"===arg)options.sourceType="module";else{var match=arg.match(/^--ecma(\d+)$/);match?options.ecmaVersion=+match[1]:help(1)}else forceFile=infile=process.argv[++i];else infile=arg}if(forceFile||infile&&"-"!==infile)run(fs.readFileSync(infile,"utf8"));else{var code="";process.stdin.resume(),process.stdin.on("data",function(e){return code+=e}),process.stdin.on("end",function(){return run(code)})}